<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Spring eCommerce</title>


  <!-- Bootstrap core CSS -->
  <link th:href="@{/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link th:href="@{/css/heroic-features.css}" rel="stylesheet">

</head>

<body>

  <!-- Navigation -->
  <div th:include="manager/admin_template.html::header"></div>

<!-- Page Content -->
<div class="container">


  <!-- Page Heading/Breadcrumbs -->
  <h1 class="mt-4 mb-3">
    Spring eCommerce <small>Productos</small>
  </h1>

  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a th:href="@{/manager}">Home</a></li>
    <li class="breadcrumb-item active">Ver Productos</li>
  </ol>

  <a class="btn btn-primary" th:href="@{/products/create}" > Crear Producto</a>
  <h2>Productos</h2>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Nombre</th>
        <th scope="col">Descripción</th>
        <th scope="col">Inventario</th>
        <th scope="col">Precio</th>
        <th scope="col">Acción</th>
        <th scope="col">Acción</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="product:${productos}">
        <td th:text="${product.nameProduct}"></td>
        <td th:text="${product.description}" ></td>
        <td th:text="${product.quantity}"></td>
        <td th:text="${product.price}"></td>
        <td><a  class="btn btn-warning" th:href="@{products/edit/{id}(id=${product.id})}">Editar</a> </td>
        <td><a  class="btn btn-danger" data-toggle="modal"th:data-target="'#modal-'+${product.id}">Eliminar</a>
          <!-- Modal -->
          <div class="modal fade"  th:id="'modal-'+${product.id}" tabindex="-1" role="dialog" aria-labelledby="miModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="miModalLabel" th:text="'Producto: '+${product.nameProduct}"></h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <h4>Esta seguro que lo desea eliminar?</h4>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                  <a type="button" class="btn btn-primary" th:href="@{products/delete}+'/'+${product.id}">Aceptar</a>
                </div>
              </div>
            </div>
          </div>
        </td>

      </tr>       
    </tbody>
  </table>


</div>
<!-- /.container -->

<!-- Footer -->
  <div th:include="manager/admin_template.html::footer"></div>


  <script th:src="@{/vendor/jquery/jquery.min.js}"></script>
  <script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>


</body>

</html>
